<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search - UPSTAR Transportation</title>
    <link rel="stylesheet" href="css/search.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder@2.0.0/dist/Control.Geocoder.css" />
</head>
<body>
    <header>
        <div class="header-container">
            <img src="./asset/logo1.png" alt="Logo" class="logo">
            <h1>U P S T A R Transportation</h1>
            <div class="buttons">
                <a href="driverinfo.html" class="button">Publish Ride</a>
                <a href="homepage.html" class="button">Back</a>
            </div>
        </div>
    </header>

    <div class="search-section">
        <div class="search-container">
            <h2>Search for a Ride</h2>
            <div id="map" style="height: 400px; width: 100%;"></div>
            <button id="resetButton" type="button" class="reset-btn">Reset Markers</button>

            <form class="search-form" id="searchForm" action="/searchride" method="POST" enctype="multipart/form-data">
                <div class="input-group-container">
                    <div class="input-group">
                        <label for="pickup">Pickup Location</label>
                        <input type="text" id="pickup" name="pickupLocation" placeholder="Enter pickup location" required>
                    </div>
                    <div class="input-group">
                        <label for="delivery">Delivery Location</label>
                        <input type="text" id="delivery" name="deliveryLocation" placeholder="Enter delivery location" required>
                    </div>
                </div>

                <div class="input-group-container">
                    <div class="input-group">
                        <label for="date">Date</label>
                        <input type="date" id="date" name="date" required>
                    </div>
                    <div class="input-group">
                        <label for="cargo">Cargo Space Required (Cubic Meters)</label>
                        <input type="number" id="cargo" name="cargoSpaceRequired" placeholder="Enter cargo space" min="1" required>
                    </div>
                </div>

                <div class="input-group">
                    <label for="cargo-type">Cargo Type</label>
                    <select id="cargo-type" name="cargoType" required>
                      <option value="">Select Cargo Type</option>
                      <option value="Fragile">Fragile</option>
                      <option value="General Goods">General Goods</option>
                      <option value="Oversized">Oversized</option>
                      <option value="Perishable">Perishable</option>
                      <option value="Hazardous">Hazardous</option>
                      <option value="Building Materials">Building Materials</option>
                      <option value="Furniture">Furniture</option>
                    </select>
                </div>

                <div class="input-group-image">
                    <label for="cargo-image">Upload Cargo Image:</label>
                    <input type="file" id="cargo-image" name="image" accept="image/*" onchange="previewImage()" required>
                    <img id="image-preview" class="image-preview" alt="Cargo Image Preview">
                </div>
                <input type="hidden" id="userEmail" name="email">
                <input type="hidden" id="pickupLat" name="pickupLat">
                <input type="hidden" id="pickupLng" name="pickupLng">
                <input type="hidden" id="deliveryLat" name="deliveryLat">
                <input type="hidden" id="deliveryLng" name="deliveryLng">

                <button type="submit" id="search-btn">Search Ride</button>
            </form>
        </div>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet-control-geocoder@2.0.0/dist/Control.Geocoder.js"></script>
    <script src="js/search.js"></script>
</body>
</html>
